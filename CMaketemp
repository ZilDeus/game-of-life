cmake_minimum_required(VERSION 3.26)
project(game-of-life)
if (UNIX)
  set(LINK_LIBRARIES "GL" "X11" "glfw3")
  set(BIN_PATH "${CMAKE_BINARY_DIR}/game-of-life")
  add_custom_target(run
    COMMAND ./game-of-life
    DEPENDS "${CMAKE_BINARY_DIR}/game-of-life"
    COMMENT "running game-of-life"
    )
  FILE(GLOB MyCSources ./src/*.c)
  add_executable(${PROJECT_NAME} ${MyCSources})
  target_link_libraries(${PROJECT_NAME} glfw3 m X11 GL)
  target_include_directories(${PROJECT_NAME} PRIVATE ./include/)
endif (UNIX)
if (WIN32 AND MINGW)
  set(LINK_LIBRARIES "opengl32" "user32" "glfw3")
  set(BIN_PATH "${CMAKE_BINARY_DIR}/game-of-life.exe")
  add_custom_target(run
    COMMAND ./game-of-life
    DEPENDS ${BIN_PATH}
    COMMENT "running game-of-life"
    )
  FILE(GLOB MyCSources ./src/*.c)
  add_executable(${PROJECT_NAME} ${MyCSources})
  target_link_libraries(${PROJECT_NAME} ${LINK_LIBRARIES})
  target_include_directories(${PROJECT_NAME} PRIVATE .\\include\\)
endif (WIN32 AND MINGW)
